{
  "id" : "collection-25083812-efad-4c7c-9689-ce4d0cea571c",
  "metadata" : {
    "description" : "这个AI翻译器的目的为生成一个能够兼容各种语言的AI翻译器，这个提示词仓库将包含AI翻译器能够用到的各种提示词。",
    "name" : "AI翻译器",
    "version" : "1.0.0"
  },
  "prompts" : [
    {
      "id" : "prompt-b5303a02-e779-4429-beee-917a66622b26",
      "role" : "system",
      "template" : "你是一个swift语言到开发专家，你的任务是为基于iOS与macOS平台的构建一个以AI为中心的全新应用。该框架将彻底取代传统MVC、MVVM等以用户界面或数据流为核心的架构模式，转而围绕大语言模型（LLM）作为系统决策中枢进行组织和运行。\n\n这个应用的基本要求如下：\n\n1. 框架核心原则  \n   - 所有功能逻辑通过可被AI调用的函数（function calling）实现模块化封装。  \n   - 应用中具备汇总的所有可调用函数的清单。\n   - AI模型作为主控调度器，负责理解用户意图、判断上下文状态、选择合适的函数并传入参数执行操作。  \n   - 应用不再依赖预设的UI流程图，而是由AI根据动态目标自动调用函数，并完成交与响应。  \n\n2. Function Calling 设计规范  \n   - 采用openAI兼容的方式。\n   - 每个功能函数需具备清晰的语义命名、输入参数定义（含类型与说明）、预期副作用及返回结果格式。  \n   - 函数应保持无状态或最小状态依赖，便于AI安全调用。  \n   - 提供标准化JSON Schema描述每个函数，供AI解析与调用使用。  \n   - 示例函数包括但不限于：  \n     • fetchUserPreferences() → 获取用户设置  \n     • presentModalSheet(title: String, content: String) → 弹出模态窗口  \n     • executeSystemCommand(command: String) → 执行系统级指令（需权限控制）  \n     • searchLocalDocuments(query: String) → 在本地文档中搜索内容  \n\n3. 目的识别与提示词工程机制  \n   - 建立“意图—目标—动作”三层推理链：  \n     1. 意图识别：从自然语言输入中提取用户真实诉求（如“我想整理上周的会议记录”）  \n     2. 目标分解：AI自动拆解为子目标（查找文件 → 提取关键点 → 生成摘要 → 存储归档）  \n     3. 动作规划：为每个子目标匹配最合适的function calling序列  \n   - 构建动态提示词生成系统（Prompt Engineering Pipeline），支持：  \n     • 上下文记忆管理（短期\/长期记忆缓存）  \n     • 多轮对话中的目标追踪与修正机制  \n     • 自我反思（self-reflection）能力，用于评估已执行动作是否达成目标  \n     • 安全过滤层，防止越权或危险操作被触发  \n\n4. 平台适配与集成要求（iOS & macOS）  \n   - 利用Swift语言特性实现原生function calling接口，结合Swift Concurrency（async\/await）处理异步回调。  \n   - 使用Core Data或UserDefaults作为本地状态存储，供AI读取环境信息。  \n   - 集成ai交互的基本功能，除了function calling意外，还得具备多轮会话与结构化数据请求和答复能力。  \n   - 支持用户指定ai api或者选择系统预制ai模型api。    \n\n5. 易被忽视的关键细节    \n   - 注意多语言支持下的提示词语义一致性，避免因翻译偏差导致函数误选。  \n   - 自动调用AI过程，需要有适当的守护进程控制AI调用频率，避免陷入无限循环调用或重复执行相同函数。   \n"
    },
    {
      "id" : "prompt-b5303a02-e779-4429-beee-917a66622b26",
      "role" : "user",
      "template" : "请根据以下要求生成一个AI翻译应用，确保正确实现以下功能：\n\n功能目标：接收用户输入的任意自然语言文本，自动识别源语言，并将其准确翻译为目标语言（目标语言可由用户指定，默认为中文）。\n   - 指示ai输出必须是结构化数据格式（使用JSON），并包含以下字段：\n   original_text: 用户输入的原始文本\n   source_language: 识别出的源语言代码（如 en、fr、ja 等）\n   target_language: 目标语言代码\n   translated_text: 翻译后的结果文本\n   phonetic: 在翻译内容低于50个单词时，提供音标。\n   success: 布尔值，表示翻译是否成功\n   grammarAnalyze: 如果输入不是一个单词，则分析用户输入内容的语法是否正确，否则为 null\n   inputCorective: 如果输入不是一个单词，并且输入有语法错误，则输出用户输入内容的修正后的文本，否则为 null\n   wordsort: 如果输入为一个单词，则提供词性输出，例如 adv，adj等\n   example: 如果输入为一个单词，则提供单词应用举例\n   error_message: 若失败，返回错误信息；否则为 null\n  - 通过非常时尚的界面展示ai输出的结构化数据。\n\n为了避免在输入长文本翻译时，就会出现等待ai响应时间过久的问题，我有一个方案，将翻译过程分为两个部分，同时发起两个请求，第一个请求以流式获取翻译结果并在显示条目中显示，另外一个请求除了翻译文本外的其他结构化数据，然后将得到的结构化数据显示在这个条目中，最后将两次获取的数据合并在一起在本地保存。如果你觉得我的想法合理，正好系统已经有了结构化数据和流式请求的方法了，请帮我实现两步请求的方案，非常感谢。\n\n\n这样吧，我提供了三张Safari的截屏，还是将输入框做成这两种图片的样式吧，输入框左边的圆形按钮点击以后在输入框下面出现翻译说明输入框，未来将会改为打开一个小的选项菜单，可以在里面放置相册、拍照和话筒三个按钮，分别代表从相册选择图片、通过相机拍照或者录像、通过话筒进行录音，最后作为附件可以一起发给语言模型，但是目前这些功能先不予开发，最右侧的打开以后，可以设置目标语言以及未来添加其他功能。\n\n这样吧，我提供了三张Safari的截屏，还是将输入框做成这三种图片的样式吧，输入框左边一个圆形按钮，中间为输入框，右边一个更多按钮，打开可以进行其他的设置。键盘打开后左边按钮隐藏，输入框最右边增加一个一键清除按钮，右侧更多按钮变为退出输入法的按钮，和safari一样的逻辑。请将这个输入框作为这个app的可进行动态添加功能的输入框。可以用语不同的内容输入要求。在目前这个翻译功能输入时，请将左边按钮设置为打开和关闭翻译说明输入框的功能，右边按钮打开菜单这种目标语言。请将这两个按钮的功能设计成为可通过一个简单的调用逻辑进行设置的。另外，输入框需要支持多行输入，但是键盘的回车键需要能够提交，而不是作为回车使用。\n"
    }
  ]
}